# OBS! Full modding not supported. Code support still needed to remove/rename the original subject types.
# Custom ones CAN be created with scriptable diplomatic actions (see "dummy" at the bottom of this file), although this is not currently very functional.

# If used, copy_from should be put at the very top ( things above it will be overwitten )

# Triggers will be evaluated in the scope of the Subject, with the Overlord as its FROM scope.
# Exception: is_potential_overlord is evaluated in the scope of the potential Overlord, with no particular subject in mind.

# count = x is used (means it "counts as" x in some triggers).

# copy_from copies everything except count, is_potential_overlord

# relative_power_class decides how Subjects are grouped together when considering relative strenghth towards overlord:
# If it is 0 they won't consider relative power and if it is 1 they will only consider their own power (and those supporting their independence) compared to their Overlord's.
# Otherwise they will sum up the power of every Subject of the same relative_power_class as themselves, and all countries who support either themselves or one of their allies in the same relative_power_class.

# diplomacy_view_class decides how subjects are grouped together in diplomacy view and in foreign province view:
# 0 means it won't be listed
# 1 means it will be listed together only with the same subject type
# Other values means it will be listed together with all subjects of the same diplomacy_view_class

# The following status checks are considered in old triggers:

# is_colonial_nation  & is_former_colonial_nation
#        checks the 'has_colonial_parent = yes' attribute

# is_lesser_in_union, junior_union_with, senior_union_with & years_in_union_under
#		checks the 'has_overlords_ruler = yes' attribute


# Forward declaring all subject types so they can refer to each other in triggers etc.
#vassal = {}
#march = {}
#daimyo_vassal = {}
#appanage = {}
#personal_union = {}
#client_vassal = {}
#client_march = {}
#colony = {}
#crown_colony = {}
#private_enterprise = {}
#self_governing_colony = {}
#tributary_state = {}
#eyalet = {}
#core_eyalet = {}
#commercial_enterprise = {}
#trade_protectorate = {}
th_yukari_daimyo = {}
th_yukari_puppet_state = {}
th_yukari_march = {}
th_special_march = {}
th_satori_vassal = {}
th_mokou_daimyo = {}
th_religious_tributary = {}
th_trade_union = {}
th_yuuka_gatekeeper = {}
th_rebellious_subject = {}
th_pet_state = {}
th_sister_state = {}
th_yama_sphere_of_influence = {}
th_yama_subject_to_law = {}
th_yama_executor = {}
th_shinigami_subject = {}
th_exarch_subject = {}
th_lunar_guards_march = {}
th_tengu_puppet_state = {}
th_lunar_satellite = {}

# Completely scripted subject type (no code used). Add any number of these. Check common/new_diplomatic_actions for how to make visible in game.
th_yukari_daimyo = {
	copy_from = vassal
	count = vassal
	
	# Graphics:
	sprite = GFX_icon_yukari_daimyo
	diplomacy_overlord_sprite = GFX_diplomacy_lead_yukari_daimyo # The one that the overlord sees
	diplomacy_subject_sprite = GFX_diplomacy_am_yukari_daimyo	# The one that the subject sees
	
	# Properties:
	has_power_projection = yes
	takes_diplo_slot = no
	gives_daimyo_bonuses = yes
	gets_help_with_rebels = no
	separatists_become_subjects = yes
	allows_taking_land_without_independence = yes
	can_have_subjects_of_other_types = yes
	can_use_claims = yes
	overlord_protects_external = yes

	trust_on_start = 0
	max_government_rank = 0
	
	base_liberty_desire = 5.0
	military_focus = 1.2

	relative_power_class = 1

	can_fight = {
		independent_nations = yes
		same_overlord = th_yukari_daimyo
		other_overlord = all
	}
	can_rival = {
		independent_nations = yes
		same_overlord = th_yukari_daimyo
		other_overlord = all
	}
	can_ally = {
		independent_nations = yes
		same_overlord = th_yukari_daimyo
		other_overlord = all
	}
	can_marry = {
		independent_nations = yes
		same_overlord = th_yukari_daimyo
		other_overlord = all
	}
	
	# Subject Interactions
	#(disable)
	scutage = yes
	grant_core_claim = yes
	grant_province = yes
	place_relative_on_throne = no
	enforce_religion = no
	enforce_culture = no
	seize_territory = no
	#(enable)
	force_seppuku = no
	contribute_to_capital = no
	force_isolation = no
	return_land = yes
	conscript_general = no
	#(special)
	sword_hunt = yes
	sankin_kotai = yes
	expel_ronin = yes
	
	# Modifiers
	
	modifier_overlord = clear #We don't want to duplicate the ones inherited from vassal
	modifier_subject = clear #Ditto
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_overlord = {
		modifier = daimyo_subject
	}
	
	
	modifier_overlord = {
		modifier = overlord_sword_hunt
		trigger = {
			has_country_modifier = subject_sword_hunt
		}
	}
}

th_yukari_puppet_state = {
	copy_from = vassal
	count = vassal
	
	# Graphics:
	sprite = GFX_icon_yukari_puppet_state
	diplomacy_overlord_sprite = GFX_diplomacy_lead_yukari_puppet_state # The one that the overlord sees
	diplomacy_subject_sprite = GFX_diplomacy_am_yukari_puppet_state	# The one that the subject sees
	
	# Properties:
	transfer_trade_power = yes
	has_power_projection = yes
	takes_diplo_slot = yes
	gives_daimyo_bonuses = yes
	gets_help_with_rebels = no
	separatists_become_subjects = yes
	allows_taking_land_without_independence = yes
	can_have_subjects_of_other_types = yes
	can_use_claims = yes
	overlord_protects_external = yes
	cities_required_for_bonuses = 10
	trust_on_start = 0
	max_government_rank = 0
	extend_trading_range = yes
	
	base_liberty_desire = 0.0
	military_focus = 1.2
	liberty_desire_development_ratio = 0.25

	relative_power_class = 1

	can_fight = {
		independent_nations = yes
		other_overlord = all
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
	}
	can_ally = {
		independent_nations = yes
		other_overlord = all
	}
	can_marry = {
		independent_nations = yes
		other_overlord = all
	}
	
	# Subject Interactions
	#(disable)
	scutage = yes
	grant_core_claim = yes
	grant_province = yes
	place_relative_on_throne = yes
	enforce_religion = yes
	enforce_culture = no
	seize_territory = no
	start_colonial_war = yes
	#(enable)
	contribute_to_capital = yes
	conscript_general = yes
	#(special)
	sword_hunt = yes
	sankin_kotai = yes
	expel_ronin = yes
	
	# Modifiers
	
	modifier_overlord = clear #We don't want to duplicate the ones inherited from vassal
	modifier_subject = clear #Ditto
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_overlord = {
		modifier = daimyo_subject
	}
	
	modifier_overlord = {
		modifier = large_colonial_nation
		trigger = {
			num_of_cities = 10
		}
	}
	
	
	modifier_overlord = {
		modifier = overlord_sword_hunt
		trigger = {
			has_country_modifier = subject_sword_hunt
		}
	}
}

th_yukari_march = {
	copy_from = vassal
	
	# Graphics:
	sprite = GFX_icon_yukari_march
	diplomacy_overlord_sprite = GFX_diplomacy_lead_yukari_march
	diplomacy_subject_sprite = GFX_diplomacy_am_yukari_march

	# Properties:
	has_power_projection = yes
	gives_daimyo_bonuses = yes
	separatists_become_subjects = yes
	allows_taking_land_without_independence = yes
	can_have_subjects_of_other_types = yes
	can_use_claims = yes

	pays_overlord = 0.00
	military_focus = 1.5
	base_liberty_desire = -40.0
	can_be_annexed = yes
	forcelimit_to_overlord = 0.2
	max_government_rank = 0
	extend_trading_range = yes

	relative_power_class = 1

	can_fight = {
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
	}
	can_ally = {
	}
	can_marry = {
		independent_nations = yes
		same_overlord = th_yukari_daimyo
		same_overlord = th_yukari_march
	}

	# Subject Interactions:
	scutage = no
	subsidize_armies = yes
	fortify_march = yes
	grant_core_claim = yes
	grant_province = yes
	place_relative_on_throne = no
	enforce_religion = yes
	enforce_culture = no
	seize_territory = no
	
	send_officers = yes
	force_isolation = no
	conscript_general = yes

	# Modifiers:
	modifier_overlord = clear #We don't want to duplicate the ones inherited from vassal
	modifier_subject = clear #Ditto
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_overlord = {
		modifier = march_subject
	}
	modifier_overlord = {
		modifier = daimyo_subject
	}
	modifier_subject = {
		modifier = march_bonus
		trigger = {
			NOT = {
				development_of_overlord_fraction = 0.50
			}
		}
		expiration_message_overlord = MARCHTOOLARGE
		expiration_message_subject = MARCHTOOLARGEUS
	}
	modifier_overlord = {
		modifier = th_yukari_marches_too_many_marches
		trigger = {
			ROOT = {
				has_country_flag = mhg_one_march_too_much
			}
		}
	}
}

th_special_march = {
	copy_from = vassal
	
	# Graphics:	#TODO
	sprite = GFX_icon_special_march
	diplomacy_overlord_sprite = GFX_diplomacy_lead_special_march
	diplomacy_subject_sprite = GFX_diplomacy_am_special_march

	# Properties:
	has_power_projection = yes
	takes_diplo_slot = yes
	gives_daimyo_bonuses = no
	separatists_become_subjects = no
	allows_taking_land_without_independence = yes
	can_have_subjects_of_other_types = yes
	can_use_claims = yes
	overlord_protects_external = yes
	extend_trading_range = yes

	pays_overlord = 0.25
	military_focus = 1.5
	relative_power_class = 0
	can_be_annexed = yes
	forcelimit_to_overlord = 0.2
	max_government_rank = 0
	liberty_desire_development_ratio = 0.1

	can_fight = {
		independent_nations = yes
		other_overlord = all
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
	}
	can_ally = {
		independent_nations = yes
		other_overlord = all
	}
	can_marry = {
		independent_nations = yes
		other_overlord = all
	}

	# Subject Interactions:
	scutage = yes
	subsidize_armies = yes
	fortify_march = yes
	grant_core_claim = yes
	grant_province = yes
	place_relative_on_throne = no
	enforce_religion = yes
	enforce_culture = no
	seize_territory = no
	
	send_officers = yes

	# Modifiers:
	modifier_overlord = clear #We don't want to duplicate the ones inherited from vassal
	modifier_subject = clear #Ditto
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_overlord = {
		modifier = march_subject
	}
	modifier_subject = {
		modifier = march_bonus
		trigger = {
			NOT = {
				development_of_overlord_fraction = 1.00
			}
		}
		expiration_message_overlord = MARCHTOOLARGE
		expiration_message_subject = MARCHTOOLARGEUS
	}
}

th_satori_vassal = {
	copy_from = vassal
	
	# Graphics:
	sprite = GFX_icon_satori_vassal
	diplomacy_overlord_sprite = GFX_diplomacy_lead_satori_vassal
	diplomacy_subject_sprite = GFX_diplomacy_am_satori_vassal

	# Properties:
	military_focus = 1.5
	base_liberty_desire = 0.0
	forcelimit_to_overlord = 0.15
	can_be_annexed = yes
	extend_trading_range = yes

	# Subject Interactions:
	subsidize_armies = yes
	fortify_march = yes
	place_relative_on_throne = yes
	
	send_officers = no
	contribute_to_capital = yes
	force_isolation = no
	conscript_general = yes

	# Modifiers:
	modifier_overlord = clear #We don't want to duplicate the ones inherited from vassal
	modifier_subject = clear #Ditto
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_overlord = {
		modifier = march_subject
	}
	modifier_subject = {
		modifier = march_bonus
		trigger = {
			NOT = {
				development_of_overlord_fraction = 1
			}
		}
		expiration_message_overlord = MARCHTOOLARGE
		expiration_message_subject = MARCHTOOLARGEUS
	}
}

th_mokou_daimyo = {
	copy_from = vassal
	count = vassal
	
	# Graphics:
	sprite = GFX_icon_mokou_daimyo
	diplomacy_overlord_sprite = GFX_diplomacy_lead_mokou_daimyo
	diplomacy_subject_sprite = GFX_diplomacy_am_mokou_daimyo
	
	# Properties:
	takes_diplo_slot = no
	gives_daimyo_bonuses = yes
	gets_help_with_rebels = no
	separatists_become_subjects = yes
	allows_taking_land_without_independence = yes
	can_use_claims = yes
	overlord_protects_external = yes

	trust_on_start = 0
	max_government_rank = 1
	
	base_liberty_desire = 5.0
	military_focus = 1.2

	relative_power_class = 1
	
	# Subject Interactions
	#(disable)
	scutage = yes
	grant_core_claim = yes
	grant_province = yes
	place_relative_on_throne = no
	enforce_religion = yes
	enforce_culture = no
	seize_territory = no
	#(enable)
	force_seppuku = no
	contribute_to_capital = yes
	force_isolation = no
	return_land = yes
	conscript_general = yes
	#(special)
	sword_hunt = yes
	sankin_kotai = yes
	expel_ronin = yes
	
	# Modifiers
	
	modifier_overlord = clear #We don't want to duplicate the ones inherited from vassal
	modifier_subject = clear #Ditto
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_overlord = {
		modifier = daimyo_subject
	}
	
	
	modifier_overlord = {
		modifier = overlord_sword_hunt
		trigger = {
			has_country_modifier = subject_sword_hunt
		}
	}
}

th_religious_tributary = {
	#If similar subject added check if it needs to be added to these scripted triggers:
	#is_subject_except_tributary_trigger
	#is_free_or_tributary_trigger
	copy_from = default

	# Triggers:
	is_potential_overlord = {
		NOT = { is_subject_of_type = th_religious_tributary }
	}
	
	# Graphics:
	sprite = GFX_icon_religious_tributary
	diplomacy_overlord_sprite = GFX_diplomacy_lead_religious_tributary
	diplomacy_subject_sprite = GFX_diplomacy_am_religious_tributary

	# Properties:
	can_fight_independence_war = no
	joins_overlords_wars = no
	joins_colonial_wars = no
	is_voluntary = yes
	overlord_can_attack = yes
	takes_diplo_slot = no
	base_liberty_desire = -15
	relative_power_class = 1
	should_quit_wars_on_activation = no
	can_send_tribute = yes
	can_have_subjects_of_other_types = yes
	uses_military_focus = no
	overlord_protects_external = yes
	counts_for_borders = no
	can_use_claims = no
	share_rebel_popup = no
	can_transfer_in_peace = no
	can_set_mil_focus = no
	can_send_missionary_to_subject = yes
	overlord_can_fabricate_for = no
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	
	liberty_desire_development_ratio = 0.175
	trust_on_start = 0
	
	overlord_opinion_modifier = is_tributary
	subject_opinion_modifier = is_tributary
	
	can_fight = {
		independent_nations = yes
		same_overlord = th_religious_tributary
		other_overlord = all
	}
	can_rival = {
		independent_nations = yes
		same_overlord = th_religious_tributary
		other_overlord = all
	}
	can_ally = {
		independent_nations = yes
		same_overlord = th_religious_tributary
		other_overlord = all
	}
	can_marry = {
		independent_nations = yes
		same_overlord = th_religious_tributary
		other_overlord = all
	}

	# Subject Interactions:
	# (immediate)
	enforce_religion = no
	grant_core_claim = no
	bestow_gifts = yes
	send_additional_troops = yes
	demand_artifacts = yes
	demand_additional_tribute = yes
	block_settlement_growth = no
	allow_settlement_growth = no
	placate_rulers = no
	knowledge_sharing = no
	# (continuous)
	embargo_rivals = no

	# Modifiers:
	modifier_subject = clear # Tributaries don't get the ordinary subject_nation penalty 
	modifier_subject = {
		modifier = tributary_state_behind_overlord_tech_adm
		trigger = {
			ROOT = {
				NOT = { adm_tech = FROM }
			}
		}
	}
	modifier_subject = {
		modifier = tributary_state_behind_overlord_tech_dip
		trigger = {
			ROOT = {
				NOT = { dip_tech = FROM }
			}
		}
	}
	modifier_subject = {
		modifier = tributary_state_behind_overlord_tech_mil
		trigger = {
			ROOT = {
				NOT = { mil_tech = FROM }
			}
		}
	}
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_1_0 trigger = { ROOT = { NOT = { total_development = 50 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_1_5 trigger = { ROOT = { total_development = 50 NOT = { total_development = 100 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_2_0 trigger = { ROOT = { total_development = 100 NOT = { total_development = 150 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_2_5 trigger = { ROOT = { total_development = 150 NOT = { total_development = 200 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_3_0 trigger = { ROOT = { total_development = 200 NOT = { total_development = 250 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_3_5 trigger = { ROOT = { total_development = 250 NOT = { total_development = 300 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_4_0 trigger = { ROOT = { total_development = 300 NOT = { total_development = 350 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_4_5 trigger = { ROOT = { total_development = 350 NOT = { total_development = 400 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_5_0 trigger = { ROOT = { total_development = 400 NOT = { total_development = 450 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_5_5 trigger = { ROOT = { total_development = 450 NOT = { total_development = 500 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_6_0 trigger = { ROOT = { total_development = 500 NOT = { total_development = 550 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_6_5 trigger = { ROOT = { total_development = 550 NOT = { total_development = 600 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_7_0 trigger = { ROOT = { total_development = 600 NOT = { total_development = 650 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_7_5 trigger = { ROOT = { total_development = 650 NOT = { total_development = 700 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_8_0 trigger = { ROOT = { total_development = 700 NOT = { total_development = 750 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_8_5 trigger = { ROOT = { total_development = 750 NOT = { total_development = 800 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_9_0 trigger = { ROOT = { total_development = 800 NOT = { total_development = 850 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_9_5 trigger = { ROOT = { total_development = 850 NOT = { total_development = 900 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_10_0 trigger = { ROOT = { total_development = 900 NOT = { total_development = 950 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_10_5 trigger = { ROOT = { total_development = 950 NOT = { total_development = 1000 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_11_0 trigger = { ROOT = { total_development = 1000 NOT = { total_development = 1050 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_monthly_faith_power_level_11_5 trigger = { ROOT = { total_development = 1050 } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_1_0 trigger = { ROOT = { NOT = { total_development = 50 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_1_5 trigger = { ROOT = { total_development = 50 NOT = { total_development = 100 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_2_0 trigger = { ROOT = { total_development = 100 NOT = { total_development = 150 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_2_5 trigger = { ROOT = { total_development = 150 NOT = { total_development = 200 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_3_0 trigger = { ROOT = { total_development = 200 NOT = { total_development = 250 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_3_5 trigger = { ROOT = { total_development = 250 NOT = { total_development = 300 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_4_0 trigger = { ROOT = { total_development = 300 NOT = { total_development = 350 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_4_5 trigger = { ROOT = { total_development = 350 NOT = { total_development = 400 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_5_0 trigger = { ROOT = { total_development = 400 NOT = { total_development = 450 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_5_5 trigger = { ROOT = { total_development = 450 NOT = { total_development = 500 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_6_0 trigger = { ROOT = { total_development = 500 NOT = { total_development = 550 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_6_5 trigger = { ROOT = { total_development = 550 NOT = { total_development = 600 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_7_0 trigger = { ROOT = { total_development = 600 NOT = { total_development = 650 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_7_5 trigger = { ROOT = { total_development = 650 NOT = { total_development = 700 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_8_0 trigger = { ROOT = { total_development = 700 NOT = { total_development = 750 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_8_5 trigger = { ROOT = { total_development = 750 NOT = { total_development = 800 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_9_0 trigger = { ROOT = { total_development = 800 NOT = { total_development = 850 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_9_5 trigger = { ROOT = { total_development = 850 NOT = { total_development = 900 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_10_0 trigger = { ROOT = { total_development = 900 NOT = { total_development = 950 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_10_5 trigger = { ROOT = { total_development = 950 NOT = { total_development = 1000 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_11_0 trigger = { ROOT = { total_development = 1000 NOT = { total_development = 1050 } } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
	modifier_overlord = { modifier = th_religious_tributary_additional_monthly_faith_power_level_11_5 trigger = { ROOT = { total_development = 1050 } FROM = { religion = th_moriyashinto has_reform = Gensokyan_shrine_theocracy has_country_flag = mry_moriya_curia_active has_country_flag = mry_doubled_faith_power } } }
}

th_tributary_state = {
	#If similar subject added check if it needs to be added to these scripted triggers:
	#is_subject_except_tributary_trigger
	#is_free_or_tributary_trigger
	copy_from = default

	# Triggers:
	is_potential_overlord = {
		NOT = { 
			is_subject_of_type = tributary_state
		}
	}
	
	# Graphics:
	sprite = GFX_subject_tributary_state
	diplomacy_overlord_sprite = GFX_diplomacy_leadtributary
	diplomacy_subject_sprite = GFX_diplomacy_amtributary

	# Properties:
	can_fight_independence_war = no
	joins_overlords_wars = no
	joins_colonial_wars = no
	is_voluntary = yes
	overlord_can_attack = yes
	takes_diplo_slot = no
	base_liberty_desire = -5
	relative_power_class = 1
	should_quit_wars_on_activation = no
	can_send_tribute = yes
	can_have_subjects_of_other_types = yes
	uses_military_focus = no
	overlord_protects_external = yes
	counts_for_borders = no
	can_use_claims = no
	share_rebel_popup = no
	can_transfer_in_peace = no
	can_set_mil_focus = no
	can_send_missionary_to_subject = no
	overlord_can_fabricate_for = no
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	
	liberty_desire_development_ratio = 0.175
	trust_on_start = 0
	
	overlord_opinion_modifier = is_tributary
	subject_opinion_modifier = is_tributary
	
	can_fight = {
		independent_nations = yes
		same_overlord = th_tributary_state
		other_overlord = all
	}
	can_rival = {
		independent_nations = yes
		same_overlord = th_tributary_state
		other_overlord = all
	}
	can_ally = {
		independent_nations = yes
		same_overlord = th_tributary_state
		other_overlord = all
	}
	can_marry = {
		independent_nations = yes
		same_overlord = th_tributary_state
		other_overlord = all
	}

	# Subject Interactions:
	# (immediate)
	enforce_religion = no
	grant_core_claim = no
	bestow_gifts = yes
	send_additional_troops = yes
	demand_artifacts = yes
	demand_additional_tribute = yes
	block_settlement_growth = no
	allow_settlement_growth = no
	placate_rulers = no
	knowledge_sharing = no
	# (continuous)
	embargo_rivals = no

	# Modifiers:
	modifier_subject = clear # Tributaries don't get the ordinary subject_nation penalty 
	modifier_subject = {
		modifier = tributary_state_behind_overlord_tech_adm
		trigger = {
			ROOT = {
				NOT = { adm_tech = FROM }
			}
		}
	}
	modifier_subject = {
		modifier = tributary_state_behind_overlord_tech_dip
		trigger = {
			ROOT = {
				NOT = { dip_tech = FROM }
			}
		}
	}
	modifier_subject = {
		modifier = tributary_state_behind_overlord_tech_mil
		trigger = {
			ROOT = {
				NOT = { mil_tech = FROM }
			}
		}
	}
}

th_trade_union = {	#TODO use it for HMC
	copy_from = vassal
	
	# Graphics:
	sprite = GFX_icon_trade_union
	diplomacy_overlord_sprite = GFX_diplomacy_lead_trade_union
	diplomacy_subject_sprite = GFX_diplomacy_am_trade_union

	# Properties:
	transfer_trade_if_merchant_republic = yes
	can_be_annexed = yes
	has_power_projection = no
	gets_help_with_rebels = yes
	can_have_subjects_of_other_types = yes

	max_government_rank = 0
	uses_military_focus = no
	can_set_mil_focus = no
	extend_trading_range = yes

	liberty_desire_development_ratio = 0.25
	liberty_desire_same_dynasty = -5.0
	pays_overlord = 1.0
	forcelimit_to_overlord = 0.1

	relative_power_class = 0
	
	restoration_cb = cb_disloyal_vassal

	# Subject Interactions:
	scutage = no
	place_relative_on_throne = no
	divert_trade = yes
	seize_territory = yes

	# Modifiers:
	modifier_subject = {
		modifier = union_subject
	}
	modifier_overlord = {
		modifier = union_subject
	}

	overlord_opinion_modifier = th_in_trade_union
	subject_opinion_modifier = th_in_trade_union
}

th_yuuka_gatekeeper = {
	copy_from = vassal
	
	# Graphics:	#TODO
	sprite = GFX_icon_march
	diplomacy_overlord_sprite = GFX_diplomacy_leadmarch
	diplomacy_subject_sprite = GFX_diplomacy_weakmarch

	# Properties:
	transfer_trade_power = yes
	takes_diplo_slot = no
	gives_daimyo_bonuses = no
	separatists_become_subjects = no
	allows_taking_land_without_independence = yes
	can_have_subjects_of_other_types = yes
	can_use_claims = yes
	can_be_annexed = yes
	eats_overlords_colonies = yes
	has_colonial_parent = yes
	extend_trading_range = yes
	
	pays_overlord = 0.0
	military_focus = 1.5
	relative_power_class = 0
	base_liberty_desire = -25.0
	forcelimit_to_overlord = 0.2

	max_government_rank = 0
	cities_required_for_bonuses = 10

	can_fight = {
		other_overlord = colony
		neighboring_primitives = yes
		colonial_region_nations = yes
	}
	can_rival = {
		other_overlord = colony
		neighboring_primitives = yes
		colonial_region_nations = yes
	}
	can_ally = {
		neighboring_primitives = yes
	}

	# Subject Interactions:
	scutage = yes
	subsidize_armies = yes
	fortify_march = yes
	place_relative_on_throne = yes
	start_colonial_war = yes
	grant_core_claim = yes
	grant_province = yes
	enforce_religion = yes
	enforce_culture = no
	seize_territory = no

	send_officers = yes

	# Modifiers:
	modifier_overlord = clear #We don't want to duplicate the ones inherited from vassal
	modifier_subject = clear #Ditto
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_overlord = {
		modifier = march_subject
	}
	modifier_overlord = {
		modifier = large_colonial_nation
		trigger = {
			num_of_cities = 10
		}
	}
	modifier_subject = {
		modifier = march_bonus
		trigger = {
			NOT = {
				development_of_overlord_fraction = 1.00
			}
		}
		expiration_message_overlord = MARCHTOOLARGE
		expiration_message_subject = MARCHTOOLARGEUS
	}
}

th_rebellious_subject = {
	copy_from = vassal
	
	# Graphics:	#TODO
	sprite = GFX_icon_vassal
	diplomacy_overlord_sprite = GFX_diplomacy_leadvassal
	diplomacy_subject_sprite = GFX_diplomacy_amvassal

	# Properties:
	transfer_trade_if_merchant_republic = no
	can_be_annexed = no
	has_power_projection = yes
	gets_help_with_rebels = yes
	forms_trade_companies = no
	joins_overlords_wars = no
	can_have_subjects_of_other_types = yes
	can_transfer_in_peace = no
	can_set_mil_focus = no
	can_concentrate_development = no
	extend_trading_range = no

	max_government_rank = 0
	
	base_liberty_desire = 30.0
	liberty_desire_negative_prestige = 1.0
	pays_overlord = 0
	forcelimit_to_overlord = 0.1

	relative_power_class = 1
	should_quit_wars_on_activation = yes

	restoration_cb = cb_disloyal_vassal

	# Subject Interactions:
	embargo_rivals = no
	support_loyalists = yes
	bestow_gifts = yes
	scutage = no
	place_relative_on_throne = no
	sacrifice_ruler = no
	sacrifice_heir = no
	divert_trade = no
	seize_territory = no

	# Modifiers:
	modifier_subject = {
		modifier = vassal_nation
	}
	modifier_overlord = {
		modifier = vassal_subject
	}

	overlord_opinion_modifier = is_vassal
	subject_opinion_modifier = is_vassal
}

th_pet_state = {
	copy_from = th_special_march

	# Properties:
	base_liberty_desire = 0.0

	# Subject Interactions:
	subsidize_armies = yes
	fortify_march = yes
	place_relative_on_throne = no
	
	send_officers = no
	contribute_to_capital = yes
	force_isolation = no
	conscript_general = yes
	extend_trading_range = yes

	# Modifiers:
	modifier_overlord = clear #We don't want to duplicate the ones inherited from vassal
	modifier_subject = clear #Ditto
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_overlord = {
		modifier = march_subject
	}
	modifier_subject = {
		modifier = march_bonus
		trigger = {
			NOT = {
				development_of_overlord_fraction = 0.25
			}
		}
		expiration_message_overlord = MARCHTOOLARGE
		expiration_message_subject = MARCHTOOLARGEUS
	}
}

th_sister_state = {
	copy_from = default

	is_potential_overlord = {
		NOT = { is_subject_of_type = th_sister_state }
	}
	
	# Graphics:
	sprite = GFX_subject_tributary_state
	diplomacy_overlord_sprite = GFX_diplomacy_leadtributary
	diplomacy_subject_sprite = GFX_diplomacy_amtributary

	# Properties:
	can_fight_independence_war = no
	joins_overlords_wars = no
	joins_colonial_wars = no
	is_voluntary = yes
	overlord_can_attack = yes
	takes_diplo_slot = no
	base_liberty_desire = -5
	relative_power_class = 1
	should_quit_wars_on_activation = no
	can_send_tribute = yes
	can_have_subjects_of_other_types = yes
	uses_military_focus = no
	overlord_protects_external = yes
	counts_for_borders = no
	can_use_claims = no
	share_rebel_popup = no
	can_transfer_in_peace = no
	can_set_mil_focus = no
	can_send_missionary_to_subject = no
	overlord_can_fabricate_for = no
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	military_focus = 1
	liberty_desire_development_ratio = 0
	forcelimit_to_overlord = 0.15
	can_be_annexed = yes
	extend_trading_range = yes
	
	overlord_opinion_modifier = is_tributary
	subject_opinion_modifier = is_tributary
	
	can_fight = {
		independent_nations = yes
		same_overlord = th_sister_state
		other_overlord = all
	}
	can_rival = {
		independent_nations = yes
		same_overlord = th_sister_state
		other_overlord = all
	}
	can_ally = {
		independent_nations = yes
		same_overlord = th_sister_state
		other_overlord = all
	}
	can_marry = {
		independent_nations = yes
		same_overlord = th_sister_state
		other_overlord = all
	}

	# Subject Interactions:
	subsidize_armies = yes
	fortify_march = yes
	place_relative_on_throne = no
	
	send_officers = yes
	contribute_to_capital = yes
	force_isolation = no
	conscript_general = yes
	
	# (immediate)
	enforce_religion = no
	grant_core_claim = no
	bestow_gifts = yes
	send_additional_troops = yes
	demand_artifacts = yes
	demand_additional_tribute = yes
	block_settlement_growth = no
	allow_settlement_growth = no
	placate_rulers = no
	knowledge_sharing = no
	# (continuous)
	embargo_rivals = no

	# Modifiers:
	modifier_overlord = clear #We don't want to duplicate the ones inherited from vassal
	modifier_subject = clear #Ditto
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_overlord = {
		modifier = march_subject
	}
	modifier_subject = {
		modifier = march_bonus
		trigger = {
			NOT = {
				development_of_overlord_fraction = 0.25
			}
		}
		expiration_message_overlord = MARCHTOOLARGE
		expiration_message_subject = MARCHTOOLARGEUS
	}
}

th_yama_sphere_of_influence = {
	#If similar subject added check if it needs to be added to these scripted triggers:
	#is_subject_except_tributary_trigger
	#is_free_or_tributary_trigger
	copy_from = default

	# Triggers:
	is_potential_overlord = {
		NOT = { 
			is_subject_of_type = th_yama_sphere_of_influence
		}
	}
	
	# Graphics:
	sprite = GFX_subject_tributary_state
	diplomacy_overlord_sprite = GFX_diplomacy_leadtributary
	diplomacy_subject_sprite = GFX_diplomacy_amtributary

	# Properties:
	can_fight_independence_war = yes
	joins_overlords_wars = no
	joins_colonial_wars = no
	is_voluntary = no
	overlord_can_attack = yes
	takes_diplo_slot = no
	base_liberty_desire = -25
	can_release_in_peace = no
	relative_power_class = 0
	should_quit_wars_on_activation = yes
	can_send_tribute = no
	can_have_subjects_of_other_types = yes
	uses_military_focus = no
	overlord_protects_external = yes
	counts_for_borders = yes
	can_use_claims = no
	share_rebel_popup = no
	can_transfer_in_peace = no
	can_set_mil_focus = no
	can_send_missionary_to_subject = no
	overlord_can_fabricate_for = no
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	
	liberty_desire_development_ratio = 0
	trust_on_start = 0
	
	overlord_opinion_modifier = is_tributary
	subject_opinion_modifier = is_tributary
	
	can_fight = {
		independent_nations = yes
		same_overlord = th_yama_sphere_of_influence
		other_overlord = all
	}
	can_rival = {
		independent_nations = yes
		same_overlord = th_yama_sphere_of_influence
		other_overlord = all
	}
	can_ally = {
		independent_nations = yes
		same_overlord = th_yama_sphere_of_influence
		other_overlord = all
	}
	can_marry = {
		independent_nations = yes
		same_overlord = th_yama_sphere_of_influence
		other_overlord = all
	}

	# Subject Interactions:
	# (immediate)
	enforce_religion = no
	grant_core_claim = no
	bestow_gifts = no
	send_additional_troops = no
	demand_artifacts = no
	demand_additional_tribute = no
	block_settlement_growth = no
	allow_settlement_growth = no
	placate_rulers = no
	knowledge_sharing = no
	# (continuous)
	embargo_rivals = no

	# Modifiers:
	modifier_subject = clear # Tributaries don't get the ordinary subject_nation penalty 
}

th_yama_subject_to_law = {
	#If similar subject added check if it needs to be added to these scripted triggers:
	#is_subject_except_tributary_trigger
	#is_free_or_tributary_trigger
	copy_from = default

	# Triggers:
	is_potential_overlord = {
		NOT = { 
			is_subject_of_type = th_yama_subject_to_law
		}
	}
	
	# Graphics:
	sprite = GFX_subject_tributary_state
	diplomacy_overlord_sprite = GFX_diplomacy_leadtributary
	diplomacy_subject_sprite = GFX_diplomacy_amtributary

	# Properties:
	can_fight_independence_war = yes
	joins_overlords_wars = no
	joins_colonial_wars = no
	is_voluntary = no
	overlord_can_attack = yes
	takes_diplo_slot = no
	base_liberty_desire = -25
	can_release_in_peace = no
	relative_power_class = 0
	should_quit_wars_on_activation = yes
	can_send_tribute = no
	can_have_subjects_of_other_types = yes
	uses_military_focus = no
	overlord_protects_external = yes
	counts_for_borders = yes
	can_use_claims = no
	share_rebel_popup = no
	can_transfer_in_peace = no
	can_set_mil_focus = no
	can_send_missionary_to_subject = no
	overlord_can_fabricate_for = no
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	extend_trading_range = yes
	
	liberty_desire_development_ratio = 0
	trust_on_start = 0
	
	overlord_opinion_modifier = is_tributary
	subject_opinion_modifier = is_tributary
	
	can_fight = {
		independent_nations = yes
		other_overlord = all
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
	}
	can_ally = {
		independent_nations = yes
		same_overlord = th_yama_sphere_of_influence
		other_overlord = all
	}
	can_marry = {
		independent_nations = yes
		same_overlord = th_yama_sphere_of_influence
		other_overlord = all
	}

	# Subject Interactions:
	# (immediate)
	enforce_religion = no
	grant_core_claim = no
	bestow_gifts = no
	send_additional_troops = no
	demand_artifacts = no
	demand_additional_tribute = no
	block_settlement_growth = no
	allow_settlement_growth = no
	placate_rulers = no
	knowledge_sharing = no
	# (continuous)
	embargo_rivals = no

	# Modifiers:
	modifier_subject = clear # Tributaries don't get the ordinary subject_nation penalty 
}

th_yama_executor = {
	copy_from = vassal
	
	# Graphics:	#TODO
	sprite = GFX_icon_special_march
	diplomacy_overlord_sprite = GFX_diplomacy_lead_special_march
	diplomacy_subject_sprite = GFX_diplomacy_am_special_march

	# Properties:
	has_power_projection = yes
	takes_diplo_slot = yes
	gives_daimyo_bonuses = no
	separatists_become_subjects = no
	allows_taking_land_without_independence = yes
	can_have_subjects_of_other_types = yes
	overlord_protects_external = yes
	counts_for_borders = no
	can_use_claims = no
	can_transfer_in_peace = no

	pays_overlord = 0.25
	military_focus = 1.5
	relative_power_class = 0
	can_be_annexed = yes
	forcelimit_to_overlord = 0.2
	max_government_rank = 0
	liberty_desire_development_ratio = 0.1
	extend_trading_range = yes

	# Subject Interactions:
	scutage = yes
	subsidize_armies = yes
	fortify_march = yes
	grant_core_claim = yes
	grant_province = no
	place_relative_on_throne = no
	enforce_religion = yes
	enforce_culture = no
	seize_territory = no
	
	send_officers = yes

	# Modifiers:
	modifier_overlord = clear #We don't want to duplicate the ones inherited from vassal
	modifier_subject = clear #Ditto
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_overlord = {
		modifier = march_subject
	}
	modifier_subject = {
		modifier = th_executor_bonus
	}
	modifier_overlord = { 
		modifier = th_yama_slightly_too_many_executor_provinces 
		trigger = { 
			ROOT = {
				num_of_owned_provinces_with = {
					continent = gensokyo_continent
					NOT = { region = former_hell_region }
					NOT = { region = hell_region }
					NOT = { region = netherworld_region }
					NOT = { area = Konngaras_state }
					value = 5
				}
			} 
		} 
	}
	modifier_overlord = { 
		modifier = th_yama_too_many_executor_provinces 
		trigger = { 
			ROOT = {
				num_of_owned_provinces_with = {
					continent = gensokyo_continent
					NOT = { region = former_hell_region }
					NOT = { region = hell_region }
					NOT = { region = netherworld_region }
					NOT = { area = Konngaras_state }
					value = 10
				}
			} 
		} 
	}
	modifier_overlord = { 
		modifier = th_yama_way_too_many_executor_provinces 
		trigger = { 
			ROOT = {
				num_of_owned_provinces_with = {
					continent = gensokyo_continent
					NOT = { region = former_hell_region }
					NOT = { region = hell_region }
					NOT = { region = netherworld_region }
					NOT = { area = Konngaras_state }
					value = 15
				}
			} 
		} 
	}
}

th_shinigami_subject = {
	copy_from = vassal
	
	# Graphics:	#TODO
	sprite = GFX_icon_vassal
	diplomacy_overlord_sprite = GFX_diplomacy_leadvassal
	diplomacy_subject_sprite = GFX_diplomacy_amvassal

	# Properties:
	transfer_trade_if_merchant_republic = no
	can_be_annexed = yes
	has_power_projection = yes
	gets_help_with_rebels = yes
	forms_trade_companies = no
	joins_overlords_wars = no
	can_have_subjects_of_other_types = yes
	can_transfer_in_peace = no
	can_set_mil_focus = no
	can_concentrate_development = no

	max_government_rank = 0
	
	base_liberty_desire = -25.0
	liberty_desire_negative_prestige = 0.0
	pays_overlord = 0
	forcelimit_to_overlord = 0.1

	relative_power_class = 1
	should_quit_wars_on_activation = yes

	restoration_cb = cb_disloyal_vassal

	# Subject Interactions:
	embargo_rivals = no
	support_loyalists = yes
	bestow_gifts = yes
	scutage = no
	place_relative_on_throne = no
	sacrifice_ruler = no
	sacrifice_heir = no
	divert_trade = no
	seize_territory = no
	
	can_fight = {
		independent_nations = yes
		other_overlord = all
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
	}
	can_ally = {
		independent_nations = yes
		same_overlord = th_shinigami_subject
		other_overlord = all
	}
	can_marry = {
		independent_nations = yes
		same_overlord = th_shinigami_subject
		other_overlord = all
	}

	# Modifiers:
	modifier_subject = {
		modifier = vassal_nation
	}
	modifier_overlord = {
		modifier = vassal_subject
	}

	overlord_opinion_modifier = is_vassal
	subject_opinion_modifier = is_vassal
}

th_exarch_subject = {
	copy_from = vassal
	
	# Graphics:	#TODO
	sprite = GFX_icon_special_march
	diplomacy_overlord_sprite = GFX_diplomacy_lead_special_march
	diplomacy_subject_sprite = GFX_diplomacy_am_special_march

	# Properties:
	has_power_projection = yes
	takes_diplo_slot = no
	gives_daimyo_bonuses = no
	transfer_trade_power = yes
	separatists_become_subjects = no
	allows_taking_land_without_independence = no
	can_have_subjects_of_other_types = yes
	can_use_claims = yes
	overlord_protects_external = yes
	extend_trading_range = yes

	pays_overlord = 1
	military_focus = 1.5
	relative_power_class = 0
	can_be_annexed = yes
	forcelimit_to_overlord = 0.2
	max_government_rank = 0
	liberty_desire_development_ratio = 0

	can_fight = {
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
	}
	can_ally = {
	}
	can_marry = {
		same_overlord = th_exarch_subject
	}

	# Subject Interactions:
	# (continuous)
	embargo_rivals = yes
	support_loyalists = yes
	subsidize_armies = yes
	scutage = yes
	send_officers = yes
	divert_trade= yes
	# (immediate)
	placate_rulers = yes
	enforce_religion = yes
	grant_province = yes
	enforce_culture = no
	fortify_march = yes
	seize_territory = yes
	grant_core_claim = yes
	takeondebt = yes
	bestow_gifts = yes
	send_additional_troops = yes
	press_sailors = yes
	contribute_to_capital = yes
	return_land = yes
	conscript_general = yes
	knowledge_sharing = yes

	# Modifiers:
	modifier_overlord = clear #We don't want to duplicate the ones inherited from vassal
	modifier_subject = clear #Ditto
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_overlord = {
		modifier = march_subject
	}
	modifier_subject = {
		modifier = march_bonus
		trigger = {
			NOT = {
				development_of_overlord_fraction = 1.00
			}
		}
		expiration_message_overlord = MARCHTOOLARGE
		expiration_message_subject = MARCHTOOLARGEUS
	}
}

th_lunar_guards_march = {
	copy_from = vassal
	
	# Graphics:	#TODO
	sprite = GFX_icon_lunar_guards
	diplomacy_overlord_sprite = GFX_diplomacy_lead_lunar_guards
	diplomacy_subject_sprite = GFX_diplomacy_am_lunar_guards

	# Properties:
	has_power_projection = yes
	takes_diplo_slot = no
	gives_daimyo_bonuses = no
	separatists_become_subjects = no
	allows_taking_land_without_independence = yes
	can_have_subjects_of_other_types = yes
	can_use_claims = yes
	can_release_in_peace = yes
	overlord_protects_external = yes
	extend_trading_range = yes

	pays_overlord = 0
	military_focus = 1.5
	relative_power_class = 0
	can_be_annexed = yes
	forcelimit_to_overlord = 0.1
	max_government_rank = 0
	liberty_desire_development_ratio = 0.05
	counts_for_borders = yes

	

	can_fight = {
		independent_nations = yes
		other_overlord = all
	}
	can_rival = {
		independent_nations = yes
		other_overlord = all
	}
	can_ally = {
		independent_nations = no
		other_overlord = all
	}
	can_marry = {
		independent_nations = no
		other_overlord = all
	}

	# Subject Interactions:
	scutage = yes
	subsidize_armies = yes
	fortify_march = yes
	grant_core_claim = yes
	grant_province = yes
	place_relative_on_throne = no
	enforce_religion = yes
	enforce_culture = yes
	seize_territory = no
	send_additional_troops = yes
	send_officers = yes
	conscript_general = yes
	knowledge_sharing = yes

	# Modifiers:
	modifier_overlord = clear #We don't want to duplicate the ones inherited from vassal
	modifier_subject = clear #Ditto
	modifier_subject = {
		modifier = subject_nation
	}
	modifier_overlord = {
		modifier = march_subject
	}
	modifier_subject = {
		modifier = march_bonus
		trigger = {
			NOT = {
				development_of_overlord_fraction = 2
			}
		}
		expiration_message_overlord = MARCHTOOLARGE
		expiration_message_subject = MARCHTOOLARGEUS
	}
}


th_tengu_puppet_state = {
	#If similar subject added check if it needs to be added to these scripted triggers:
	#is_subject_except_tributary_trigger
	#is_free_or_tributary_trigger
	copy_from = default
	can_have_great_projects_moved_by_overlord = no

	# Triggers:
	is_potential_overlord = {
		has_government_attribute = enables_tengu_newspaper
	}
	
	# Graphics:
	sprite = GFX_subject_tributary_state	#TODO
	diplomacy_overlord_sprite = GFX_diplomacy_leadtributary
	diplomacy_subject_sprite = GFX_diplomacy_amtributary

	# Properties:
	can_fight_independence_war = no
	joins_overlords_wars = no
	joins_colonial_wars = no
	is_voluntary = yes
	overlord_can_attack = yes
	takes_diplo_slot = no
	base_liberty_desire = -10
	relative_power_class = 1
	should_quit_wars_on_activation = no
	can_send_tribute = yes
	can_have_subjects_of_other_types = yes
	uses_military_focus = no
	overlord_protects_external = yes
	counts_for_borders = yes
	can_use_claims = yes
	share_rebel_popup = yes
	can_transfer_in_peace = yes
	can_set_mil_focus = yes
	can_send_missionary_to_subject = yes
	overlord_can_fabricate_for = yes
	does_overlord_size_count_for_warscore_cost = no
	can_concentrate_development = no
	
	liberty_desire_development_ratio = 0.1
	trust_on_start = 0
	
	overlord_opinion_modifier = th_is_puppet_state
	subject_opinion_modifier = th_is_puppet_state
	
	can_fight = {
		independent_nations = yes
		same_overlord = th_tengu_puppet_state
		other_overlord = all
	}
	can_rival = {
		independent_nations = yes
		same_overlord = th_tengu_puppet_state
		other_overlord = all
	}
	can_ally = {
		independent_nations = yes
		same_overlord = th_tengu_puppet_state
		other_overlord = all
	}
	can_marry = {
		independent_nations = yes
		same_overlord = th_tengu_puppet_state
		other_overlord = all
	}

	# Subject Interactions:
	# (immediate)
	enforce_religion = no
	grant_core_claim = no
	bestow_gifts = yes
	send_additional_troops = yes
	demand_artifacts = yes
	demand_additional_tribute = yes
	placate_rulers = yes
	knowledge_sharing = yes
	# (continuous)
	embargo_rivals = yes

	# Modifiers:
	modifier_subject = {
		modifier = tributary_state_behind_overlord_tech_adm
		trigger = {
			ROOT = {
				NOT = { adm_tech = FROM }
			}
		}
	}
	modifier_subject = {
		modifier = tributary_state_behind_overlord_tech_dip
		trigger = {
			ROOT = {
				NOT = { dip_tech = FROM }
			}
		}
	}
	modifier_subject = {
		modifier = tributary_state_behind_overlord_tech_mil
		trigger = {
			ROOT = {
				NOT = { mil_tech = FROM }
			}
		}
	}
}

th_lunar_satellite = {
	copy_from = vassal
	
	# Graphics:	#TODO
	sprite = GFX_icon_lunar_satellite
	diplomacy_overlord_sprite = GFX_diplomacy_lead_lunar_satellite
	diplomacy_subject_sprite = GFX_diplomacy_am_lunar_satellite

	# Properties:
	transfer_trade_if_merchant_republic = no
	can_be_annexed = yes
	has_power_projection = yes
	gets_help_with_rebels = yes
	forms_trade_companies = no
	joins_overlords_wars = no
	can_have_subjects_of_other_types = yes
	can_transfer_in_peace = no
	can_set_mil_focus = no
	can_concentrate_development = no
	extend_trading_range = no

	max_government_rank = 2
	
	base_liberty_desire = 20.0
	liberty_desire_negative_prestige = 1.0
	pays_overlord = 0
	forcelimit_to_overlord = 0.1

	relative_power_class = 1
	should_quit_wars_on_activation = yes

	restoration_cb = cb_disloyal_vassal

	# Subject Interactions:
	embargo_rivals = no
	support_loyalists = yes
	bestow_gifts = yes
	scutage = no
	place_relative_on_throne = no
	sacrifice_ruler = no
	sacrifice_heir = no
	divert_trade = no
	seize_territory = no

	# Modifiers:
	modifier_subject = {
		modifier = vassal_nation
	}
	modifier_overlord = {
		modifier = vassal_subject
	}

	overlord_opinion_modifier = is_vassal
	subject_opinion_modifier = is_vassal
}


